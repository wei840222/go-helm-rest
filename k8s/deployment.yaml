apiVersion: apps/v1
kind: Deployment
metadata:
  name: redoc
spec:
  replicas: 1
  selector:
    matchLabels:
      app: redoc
  template:
    metadata:
      labels:
        app: redoc
    spec:
      containers:
      - name: redoc
        image: wei840222/storage-management-system-redoc
        imagePullPolicy: Always
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: api
spec:
  selector:
    matchLabels:
      app: api
  template:
    metadata:
      labels:
        app: api
    spec:
      containers:
      - name: api
        image: wei840222/storage-management-system-api
        imagePullPolicy: Always
        env:
        - name: RANCHER_API_URL
          value: https://acl.csie.ntut.edu.tw:3000/v3/project/c-zjq9r:p-w6z2f
        - name: RANCHER_API_TOKEN
          value: token-dq8zr:69jdtpmmnz6xxzrrxqlhcccjbpjv9rdmddrrvljktg7ndst5mnbxfn
        - name: LONGHORN_API_URL
          value: https://acl.csie.ntut.edu.tw:3000/k8s/clusters/c-zjq9r/api/v1/namespaces/longhorn-system/services/http:longhorn-frontend:80/proxy/v1/volumes
        - name: DEPLOY_NAMESPACE
          value: p-w6z2f-deploy
        - name: MONGO_URL
          value: mongodb://wei840222:j04rmp4jo3@mongodb:27017/database
        - name: PROMETHEUS_UI_URL
          value: https://acl.csie.ntut.edu.tw:3000/k8s/clusters/c-zjq9r/api/v1/namespaces/cattle-prometheus/services/http:access-grafana:80/proxy/d-solo/XSOTSYxiz
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: web
spec:
  selector:
    matchLabels:
      app: web
  template:
    metadata:
      labels:
        app: web
    spec:
      containers:
      - name: web
        image: wei840222/storage-management-system-web
        imagePullPolicy: Always